<!DOCTYPE html>
<html>
<head>
<title>WORD COUNT</title>
  
<script type="text/javascript" src="jquery-3.3.1.min.js"></script>
<script type="text/javascript">
 
$(document).ready(function() {
    $("#count").click(function() {
        var txt = $("#message").val();
        var wc = count_words(txt);
        display(wc);
        //$("#result").html(txt);
    });
});


//counts words withn a given text
function count_words(txt) {
    // Removes all 3 types of line breaks with spaces
	txt = txt.replace(/(\r\n|\n|\r)/gm," "); 
	// Splts the text to words
	words = txt.split(" ");

	//Create a word count dictionary
	wc = Object();

	for (i = 0; i < words.length; i ++){
		var word = words[i];
		
		// If word alreay exists, increment the counter
		if (word in wc){
			wc[word] += 1;
		}else{ // otherwise set the counter to 1
			wc[word] = 1;
		}
	}

	return wc;
}


function display(wc){
	console.log(wc);

}

  
</script>
</head>
  
<body>
  
<div> 
	<p>Writte your text to count words!</p>
	<textarea id="message" name="message" rows="4" cols="50"></textarea> </br>
	<button id="count">Count</button>
</div>

<br/>

<div id="result">
</div>

  
</body>
</html>